# CatBar 功能描述文档

> 一只住在 Mac 状态栏的像素猫，靠你专注工作来喂养

## 产品概述

CatBar（养猫）是一款 macOS 菜单栏应用，将番茄钟专注计时与虚拟宠物养成相结合。通过完成专注工作来喂养你的像素猫咪，让工作变得更有趣。

---

## 核心功能

### 1. 像素猫咪系统

#### 状态栏猫咪
- 一只可爱的像素猫咪常驻在你的 Mac 菜单栏
- 猫咪会在状态栏左右奔跑，展现生动的动画效果
- 4 帧循环动画，流畅自然

#### 饱食度系统

猫咪有三种状态，根据饱食度变化：

| 状态 | 饱食度 | 表现 | 移动速度 |
|-----|-------|------|---------|
| 活泼 | 70-100% | 开心活跃 | 快速 (2.0x) |
| 普通 | 30-70% | 正常状态 | 中速 (1.2x) |
| 饥饿 | 0-30% | 表情悲伤 | 缓慢 (0.5x) |

- 饱食度每分钟自动下降约 0.5%
- 离线时也会计算饥饿值下降
- 饱食度为 0 时猫咪不会消失，但会非常缓慢且悲伤

#### 猫咪收集

解锁不同类型的猫咪，累计专注时间即可获得：

| 猫咪 | 解锁条件 |
|-----|---------|
| 🐱 橘猫 | 初始猫咪 |
| 🐈‍⬛ 黑猫 | 累计专注 5 小时 |
| 🐈 白猫 | 累计专注 15 小时 |
| 🐄 奶牛猫 | 累计专注 30 小时 |

---

### 2. 番茄钟计时系统

#### 专注时长选项
- 默认提供：15 分钟、25 分钟、45 分钟、60 分钟
- 支持自定义添加或删除时长选项
- 计时器显示在状态栏，实时倒计时

#### 喂食奖励

完成专注后，根据时长恢复猫咪饱食度：

| 专注时长 | 饱食度恢复 |
|---------|-----------|
| 15 分钟 | +15% |
| 25 分钟 | +25% |
| 45 分钟 | +40% |
| 60 分钟 | +50% |

#### 通知与提醒
- 专注完成时发送系统通知
- 可选的完成提示音
- 可在设置中开关通知和声音

---

### 3. 统计数据

#### 数据追踪
- **今日专注**：当日累计专注时间
- **番茄数**：完成的专注次数统计
- **连续天数**：连续专注打卡天数

#### 可视化展示
- 每周专注时间柱状图
- 历史数据汇总
- 已解锁猫咪数量统计

---

### 4. 设置选项

#### 通知设置
- 开关专注完成通知
- 开关完成提示音效

#### 时长管理
- 查看当前可用的专注时长
- 添加自定义时长（5-120 分钟）
- 删除不需要的时长选项

#### 猫咪管理
- 查看所有猫咪及解锁状态
- 切换当前使用的猫咪
- 查看未解锁猫咪的解锁条件

---

## 交互方式

### 状态栏操作
- **左键点击**：打开主菜单，选择专注时长
- **右键点击**：快速查看统计数据

### 主菜单
- 选择专注时长开始计时
- 查看统计数据
- 打开设置面板
- 退出应用

---

## 技术规格

- **平台**：macOS 13.0+
- **类型**：菜单栏应用（无 Dock 图标）
- **数据存储**：本地存储，无需联网
- **语言**：简体中文

---

## 设计理念

CatBar 的核心设计理念是「用养猫的乐趣激励专注工作」：

1. **即时反馈**：完成专注立即看到猫咪吃饱的满足感
2. **情感连接**：猫咪饥饿时的可怜表情促使用户开始工作
3. **长期激励**：猫咪收集系统鼓励持续使用
4. **低打扰**：驻留状态栏，不干扰正常工作流程
5. **趣味性**：让枯燥的时间管理变得有趣
